{"ast":null,"code":"var buildUrl = \"/Build\";\nvar loaderUrl = buildUrl + \"/Build.loader.js\";\nvar config = {\n  dataUrl: buildUrl + \"/Build.data\",\n  frameworkUrl: buildUrl + \"/Build.framework.js\",\n  codeUrl: buildUrl + \"/Build.wasm\",\n  streamingAssetsUrl: \"StreamingAssets\",\n  companyName: \"DefaultCompany\",\n  productName: \"uma_grond\",\n  productVersion: \"0.1\",\n  showBanner: unityShowBanner\n};\nvar script = document.createElement(\"script\");\nscript.src = loaderUrl;\nfunction unityShowBanner(msg, type) {\n  function updateBannerVisibility() {\n    document.getElementById('unity-warning').style.display = document.getElementById('unity-warning').children.length ? 'block' : 'none';\n  }\n  var div = document.createElement('div');\n  div.innerHTML = msg;\n  document.getElementById('unity-warning').appendChild(div);\n  if (type == 'error') div.style = 'background: red; padding: 10px;';else {\n    if (type == 'warning') div.style = 'background: yellow; padding: 10px;';\n    setTimeout(function () {\n      document.getElementById('unity-warning').removeChild(div);\n      updateBannerVisibility();\n    }, 5000);\n  }\n  updateBannerVisibility();\n}\nscript.onload = () => {\n  createUnityInstance(document.getElementById('unity-canvas'), config, progress => {\n    document.getElementById('unity-progress-bar-full').style.width = 100 * progress + \"%\";\n  }).then(unityInstance => {\n    document.getElementById('unity-loading-bar').style.display = \"none\";\n    document.getElementById('unity-fullscreen-button').onclick = () => {\n      unityInstance.SetFullscreen(1);\n    };\n  }).catch(message => {\n    alert(message);\n  });\n};\ndocument.body.appendChild(script);","map":{"version":3,"mappings":"AAmBA;AACA;AACA;EACAA;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;AAEA;AACAC;AAEA;EACA;IACAC;EACA;EACA;EACAC;EACAD;EACA,wEACA;IACA;IACAE;MACAF;MACAG;IACA;EACA;EACAA;AACA;AAGAJ;EACAK;IACAJ;EACA;IACAA;IACAA;MACAK;IACA;EACA;IACAC;EACA;AACA;AAEAN","names":["dataUrl","frameworkUrl","codeUrl","streamingAssetsUrl","companyName","productName","productVersion","showBanner","script","document","div","setTimeout","updateBannerVisibility","createUnityInstance","unityInstance","alert"],"sourceRoot":"src/components","sources":["UnityWebgl.vue"],"sourcesContent":["<template>\n    <div id=\"unity-container\" class=\"unity-desktop\">\n        <canvas id=\"unity-canvas\" width=960 height=600></canvas>\n        <div id=\"unity-loading-bar\">\n            <div id=\"unity-logo\"></div>\n            <div id=\"unity-progress-bar-empty\">\n                <div id=\"unity-progress-bar-full\"></div>\n            </div>\n        </div>\n        <div id=\"unity-warning\"> </div>\n        <div id=\"unity-footer\">\n            <div id=\"unity-webgl-logo\"></div>\n            <div id=\"unity-fullscreen-button\"></div>\n            <div id=\"unity-build-title\">uma_grond</div>\n        </div>\n    </div>\n</template>\n\n<script>\nvar buildUrl = \"/Build\";\nvar loaderUrl = buildUrl + \"/Build.loader.js\";\nvar config = {\n    dataUrl: buildUrl + \"/Build.data\",\n    frameworkUrl: buildUrl + \"/Build.framework.js\",\n    codeUrl: buildUrl + \"/Build.wasm\",\n    streamingAssetsUrl: \"StreamingAssets\",\n    companyName: \"DefaultCompany\",\n    productName: \"uma_grond\",\n    productVersion: \"0.1\",\n    showBanner: unityShowBanner,\n};\n\nvar script = document.createElement(\"script\");\nscript.src = loaderUrl;\n\nfunction unityShowBanner(msg, type) {\n    function updateBannerVisibility() {\n        document.getElementById('unity-warning').style.display = document.getElementById('unity-warning').children.length ? 'block' : 'none';\n    }\n    var div = document.createElement('div');\n    div.innerHTML = msg;\n    document.getElementById('unity-warning').appendChild(div);\n    if (type == 'error') div.style = 'background: red; padding: 10px;';\n    else {\n        if (type == 'warning') div.style = 'background: yellow; padding: 10px;';\n        setTimeout(function () {\n            document.getElementById('unity-warning').removeChild(div);\n            updateBannerVisibility();\n        }, 5000);\n    }\n    updateBannerVisibility();\n}\n\n\nscript.onload = () => {\n    createUnityInstance( document.getElementById('unity-canvas'), config, (progress) => {\n        document.getElementById('unity-progress-bar-full').style.width = 100 * progress + \"%\";\n    }).then((unityInstance) => {\n        document.getElementById('unity-loading-bar').style.display = \"none\";\n        document.getElementById('unity-fullscreen-button').onclick = () => {\n            unityInstance.SetFullscreen(1);\n        };\n    }).catch((message) => {\n        alert(message);\n    });\n};\n\ndocument.body.appendChild(script);\n\n</script>\n\n<style scoped>\nbody {\n    padding: 0;\n    margin: 0\n}\n\n#unity-container {\n    position: absolute;\n}\n\n#unity-container.unity-desktop {\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%)\n}\n\n#unity-container.unity-mobile {\n    width: 100%;\n    height: 100%\n}\n\n#unity-canvas {\n    background: #231F20;\n    width: 960px;\n    height: 600px;\n}\n\n.unity-mobile #unity-canvas {\n    width: 100%;\n    height: 100%\n}\n\n#unity-loading-bar {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    display: block;\n}\n\n#unity-logo {\n    width: 154px;\n    height: 130px;\n    background: url('../../public/TemplateData/unity-logo-light.png') no-repeat center\n}\n\n#unity-progress-bar-empty {\n    width: 141px;\n    height: 18px;\n    margin-top: 10px;\n    margin-left: 6.5px;\n    background: url('../../public/TemplateData/progress-bar-empty-dark.png') no-repeat center\n}\n\n#unity-progress-bar-full {\n    width: 0%;\n    height: 18px;\n    margin-top: 10px;\n    background: url('../../public/TemplateData/progress-bar-full-dark.png') no-repeat center\n}\n\n#unity-footer {\n    position: relative\n}\n\n.unity-mobile #unity-footer {\n    display: none\n}\n\n#unity-webgl-logo {\n    float: left;\n    width: 204px;\n    height: 38px;\n    background: url('../../public/TemplateData/webgl-logo.png') no-repeat center\n}\n\n#unity-build-title {\n    float: right;\n    margin-right: 10px;\n    line-height: 38px;\n    font-family: arial;\n    font-size: 18px\n}\n\n#unity-fullscreen-button {\n    float: right;\n    width: 38px;\n    height: 38px;\n    background: url('../../public/TemplateData/fullscreen-button.png') no-repeat center\n}\n\n#unity-warning {\n    position: absolute;\n    left: 50%;\n    top: 5%;\n    transform: translate(-50%);\n    background: white;\n    padding: 10px;\n    display: none\n}\n</style>"]},"metadata":{},"sourceType":"script"}